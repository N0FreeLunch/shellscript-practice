## 패턴
### 문법
- 쉘스크립트에서 `${변수#패턴}` 또는 `${변수%패턴}`의 문법에서 사용하는 패턴은 모든 문자 매칭과 `*`과 `*`가 아닌 문자는 일치하는 문자이다.

### 그리디 패턴
- 가능한 많이 일치하는 방향으로 선택한다.

### 레이지 패턴
- 가증한 적게 일치하는 방향으로 선택한다.

## 앞 부분 제거
- 일치하는 패턴의 앞의 문자를 제거한다.

### 레이지 패턴
```
${변수#패턴}
```
- 일치하는 패턴을 만족하는 최소 단위의 문자열을 문자열의 앞에서 부터 선택하여 제거한 문자열을 반환한다.

### 그리디 패턴
```
#{변수##패턴}
```
- 일치하는 패턴을 만족하는 최대 단위의 문자열을 문자열의 앞부터 선택하여 제거한 문자열을 반환한다.

## 뒷 부분 제거
- 일치하는 패턴의 뒤의 문자를 제거한다.

### 레이지 패턴
```
${변수%패턴}
```
- 일치하는 패턴을 만족하는 최소 단위의 문자열을 문자열의 뒤 부터 선택하여 제거한 문자열을 반환한다.

### 그리디 패턴
```
${변수%%패턴}
```
- 일치하는 패턴을 만족하는 최대 단위의 문자열을 문자열의 뒤 부터 선택하여 제거한 문자열을 반환한다.

## 예제 1
```
FILE_NAME="myvm_container_repo.tar.gz"
```

```
echo ${FILE_NAME#*_}
```
- `_` 언더바가 나올 때까지 문자열을 앞에서부터 최소한으로 선택하므로 `myvm_`가 선택된다. 선택된 문자열을 제거한 문자열을 반환하므로 `container_repo.tar.gz`가 된다.

```
echo ${FILE_NAME##*_}
```
- `_` 언더바가 나올 때까지 문자열을 앞에서부터 최대한으로 선택하므로 `myvm_container_`가 선택된다. 선택된 문자열을 제거한 문자열을 반환하므로 `repo.tar.gz`가 된다.

```
echo ${FILE_NAME%_*}
```
- `_`가 나올 때까지 문자열을 뒤에서부터 최소한으로 선택하므로 `_repo.tar.gz`가 선택된다. 선택된 문자열을 제거한 문자열을 반환하므로 `myvm_container`가 된다.

```
echo ${FILE_NAME%%_*}
```
- `_`가 나올 때까지 문자열을 뒤에서부터 최대한으로 선택하므로 `_container_repo.tar.gz`가 선택된다. 선택된 문자열을 제거한 문자열을 반환하므로 `myvm`가 된다.


## 예제 : 파일 경로를 취득할 때 일반적인 쓰임
```
FILE_PATH="/etc/nova/nova.conf"
```

```
echo ${FILE_PATH%/*}
```
- `/`가 나올 때까지 뒤에서 최소 단위로 선택한다. `/nova.conf` 선택한 문자열을 제거한 문자열을 반환하므로 `/etc/nova/`가 된다.

```
echo ${FILE_PATH##*/}
```
- `/`가 나올 때 까지 앞에서 최대 단위로 선택한다. `/etc/nova/`가 선택이 되고, 선택한 문자열을 제거한 문자열을 반환하므로 `nova.conf`가 된다.